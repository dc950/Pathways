<!-- could import pathway page -->
{% extends "base.html" %}

{% block header_content %}
    <img src="{{ user.gravatar(256) }}">
    <h1>{{ user.first_name + " " + user.last_name}}</h1>
{% endblock %}

{% block nav_overwrite %}
  <li><a href="{{ url_for('main.index') }}">Home <span class="sr-only">(current)</span></a></li>
    <li><a href="{{ url_for('main.pathway') }}">Your Pathway</a></li>
    {% if current_user.is_authenticated %}
      <li class="active"><a href="{{ url_for('main.user', username=current_user.username) }}">Your Profile</a></li>
      <li><a href="{{ url_for('main.connections') }}">Connections</a></li>
    {% endif %}
    <li><a href="{{ url_for('main.about') }}">About</a></li>
{% endblock %}

{% block main_content %}
    <p> This is the profile page for {{user.username}} </p>
    <p>Actions:</p>
    {% if user==current_user %}
    <li><a href="{{ url_for('main.edit') }}">Edit Profile</a></li>
    <li><a href="{{ url_for('main.edit_qualification') }}">Edit Qualifications</a></li>
    {% elif user in current_user.connections %}
    <li><a href="{{ url_for('main.edit') }}">Remove Connections</a></li>
    {% elif user in current_user.invitations %}
    <li><a href="{{ url_for('.add_connection', username=user.username)}}">Accept Connection Request</a></li>
    <!-- Ignore request -->
    {% elif user in current_user.requests %}
    <li>Connection Request Pending</li>
    {% else %}
    <li><a href="{{ url_for('.add_connection', username=user.username)}}">Send Connection Request</a></li>
    {% endif %}

    {% if user == current_user or user in current_user.connections %}
    <p>I really like ponies</p>
    {% else %}
    <p>You are unable to see this data as you are not connected to the user</p>
    {% endif %}
{% endblock %}
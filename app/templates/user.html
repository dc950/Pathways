<!-- could import pathway page -->
{% extends "base.html" %}

{% block header_content %}
    <div class="header">
       <h1>{{ user.first_name + " " + user.last_name}}</h1>
    </div>
    <div class="side-padding">
       <img src="{{ user.gravatar(256) }}">
    </div>
{% endblock %}

{% block nav_overwrite %}
  <li><a href="{{ url_for('main.index') }}">Home <span class="sr-only">(current)</span></a></li>
  <li><a href="{{ url_for('main.pathway') }}">Your Pathway</a></li>
  <li class="nav-active"><a href="{{ url_for('main.user', username=current_user.username) }}">Your Profile</a></li>
  <li><a href="{{ url_for('main.connections') }}">Connections</a></li>
{% endblock %}

{% block main_content %}
    <p> This is the profile page for {{ user.first_name + " " + user.last_name}} </p>
    <p>Actions:</p>
    <div class="side-padding">
       {% if user==current_user %}      
          <li><a href="{{ url_for('main.edit') }}">Edit Profile</a></li>
          <li><a href="{{ url_for('main.edit_qualification') }}">Edit Qualifications</a></li>       
       {% elif user in current_user.connections %}
          <li><a href="{{ url_for('.remove_connection', username=user.username) }}">Remove Connections</a></li>
       {% elif user in current_user.invitations %}
          <li><a href="{{ url_for('.add_connection', username=user.username)}}">Accept Connection Request</a></li>
          <li><a href="{{ url_for('.decline_connection', username=user.username)}}">Decline Connection Request</a></li>
       <!-- Ignore request -->
       {% elif user in current_user.requests %}
          <li>Connection Request Pending</li>
       {% else %}
          <li><a href="{{ url_for('.add_connection', username=user.username)}}">Send Connection Request</a></li>
       {% endif %}
    </div>

    {% if user == current_user or user in current_user.connections %}
       <p>I really like ponies</p>
    {% else %}
       <p>You are unable to see this data as you are not connected to the user</p>
    {% endif %}
{% endblock %}